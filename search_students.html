<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Student Search (IDs hashed)</title>
  <style>
    :root{--accent:#0b5;--bg:#0f1720;--card:#0b1220;--muted:#9aa6b2}
    html,body{height:100%}
    body{
      margin:0;
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      background:linear-gradient(180deg,#071021 0%, #071827 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      color:#e6eef3;
      padding:24px;
    }
    .wrap{ width:100%; max-width:720px; }
    .search-card{
      background:rgba(255,255,255,0.02);
      border-radius:12px;
      padding:22px;
      box-shadow:0 8px 30px rgba(2,6,23,0.6);
    }
    .bar{ display:flex; gap:8px; }
    input[type="search"]{
      flex:1;
      padding:12px 14px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.06);
      background:rgba(255,255,255,0.01);
      color:inherit;
      font-size:16px;
      outline:none;
    }
    button{
      padding:10px 14px;
      border-radius:10px;
      border:0;
      background:linear-gradient(180deg,var(--accent),#09a55f);
      color:#022;
      font-weight:700;
      cursor:pointer;
    }
    .hint{margin-top:10px;color:var(--muted);font-size:13px}
    .results{margin-top:18px;display:none}
    table{width:100%;border-collapse:collapse;margin-top:8px}
    th,td{padding:10px;border-bottom:1px solid rgba(255,255,255,0.03);text-align:left;font-family:monospace}
    th{font-weight:700;color:var(--muted);font-size:13px}
    .no-match{color:#ffdede;padding:10px;border-radius:8px;background:rgba(255,0,0,0.06)}
    .small{font-size:12px;color:var(--muted)}
    .controls{margin-top:10px;display:flex;gap:8px}
    .btn-secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:8px 12px;border-radius:8px;cursor:pointer}
    footer{margin-top:14px;color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="search-card" role="region" aria-label="Student search">
      <form id="searchForm" onsubmit="event.preventDefault(); searchStudent();">
        <div class="bar">
          <input id="query" type="search" inputmode="numeric" pattern="\d*" placeholder="Enter student ID (e.g. 12424641)" aria-label="Student ID" autocomplete="off" required />
          <button type="submit">Search</button>
        </div>
        <div class="hint">Student IDs are stored hashed (SHA-256). Type the original numeric ID and press Search.</div>
      </form>

      <div id="results" class="results" aria-live="polite"><!-- filled by JS --></div>

      <div class="controls" style="justify-content:space-between;">
        <div class="small">Only the student IDs are hashed for privacy (SHA-256). GPA &amp; Section shown on match.</div>
        <div>
          <button class="btn-secondary" onclick="clearResults()">Clear</button>
        </div>
      </div>

      <footer class="small">This page does hashing locally in the browser (Web Crypto API).</footer>
    </div>
  </div>

  <script>
    // Pre-hashed dataset (SHA-256 hex of the student ID string)
    // Replace or extend the dataset below with your full hashed entries.
    const dataset = [
{ 'idHash' : '4188729a2babe06290bc9bf9299a41f1761b6c568cffb0fa4841a426a142437e', 'gpa': 2.5, 'section' : 'A55'},
{ 'idHash' : 'fbef4b1fc4ee8eadb97a459052effa04a39f8447913bdc3e29275ee3735bbe80', 'gpa': 3.5, 'section' : 'A55'},
{ 'idHash' : 'a5faeb83f84fc3e0b58950300b7a923f28a10fd4f5310e24b7c809c3aa903569', 'gpa': 3, 'section' : 'A55'},
{ 'idHash' : 'd0e2ed4c0b908218122c47e0f0e5e3d5ff61fd75b86fe584ecd7ae44b583d021', 'gpa': 3.5, 'section' : 'A55'},
{ 'idHash' : 'd8bb946329638332392528550c0f2358378c73cd803aed0722c1971bdb4e1a09', 'gpa': 4, 'section' : 'A55'},
{ 'idHash' : '607c19906cb3b7204548941223cbfd6ff7a9799aadc4879b014799a0a15a511e', 'gpa': 2.5, 'section' : 'A55'},
{ 'idHash' : '74d08c6155dca08209d73bba1bbbc7ef0d716575dda1e77f4027f6a194d800cb', 'gpa': 3.5, 'section' : 'A55'},
{ 'idHash' : '6a6b6073b4572c883933c1455866d277f97b5d387c0fa04f9ca3af351fe66c32', 'gpa': 3, 'section' : 'A55'},
{ 'idHash' : 'db55cd051d66c928762f2016e1224de9761dd100ced2571543aa8437dc43e3b8', 'gpa': 3, 'section' : 'A55'},
{ 'idHash' : '2d8b1c186bf99843b9d2d28e2c04ad0b0a19e68d5ee49a4b0f893af38408ba83', 'gpa': 3, 'section' : 'A55'},
{ 'idHash' : '5c7c57c3555f342f0dfb5ca0a6f3d5753c4ad6affe3f2ebfa557f3bfb40f131e', 'gpa': 3.5, 'section' : 'A55'},
{ 'idHash' : '9dc8a2882688e04eaf9772a35feba957b495b312511e12b47ae9aa2f4994cc13', 'gpa': 4, 'section' : 'A55'},
{ 'idHash' : 'd113539ccd4b8bef4a6e0b2f5be296be66d891bbf94271bad45a1e1121279865', 'gpa': 3.5, 'section' : 'A55'},
{ 'idHash' : '7f4648d0740baece685efcbff1601ff02724c48bca82f8ee16f840813933336e', 'gpa': 3.5, 'section' : 'A55'},
{ 'idHash' : '95c0d1fb6f9e5d4a9fe5778261fa1c59d55fc3edabdaecdafc9891e0d09b4e55', 'gpa': 2.5, 'section' : 'A55'},
{ 'idHash' : '67893eb0579057ae104e3736cd86521309e0ffb7020f55645ace581be5d25c79', 'gpa': 2.5, 'section' : 'A55'},
{ 'idHash' : 'de2081e3d84cf62ef3e8694e15f5c5f6049acd9e09e912507e9dfaf5089bcdb7', 'gpa': 3, 'section' : 'A55'},
{ 'idHash' : '1ae7cf1b55dd6cadfc4801faa1ebde6f53ec5afeb4be0526984d15ba633dcbf3', 'gpa': 3.5, 'section' : 'A55'},
{ 'idHash' : '1128629200d1434ab9ae9986afff7d176096296d3096cc85e04db230ce8169ec', 'gpa': 2.5, 'section' : 'A55'},
{ 'idHash' : '7fedfc3a6bca375920c4bcc98e771a7379d1f8032cfc8ac98dba29fbc31215b2', 'gpa': 3, 'section' : 'A55'},
{ 'idHash' : '16bbd603c604e5df99c46614d28727f69542ac114d46f3663a9083f7d8ed6c84', 'gpa': 4, 'section' : 'A55'},
{ 'idHash' : 'f0e253da211e79193bd429b00c6793b49f4ccc368a49eb7b131144b481ceab05', 'gpa': 3, 'section' : 'A55'},
{ 'idHash' : 'ac1dd7c55ed6a06bb625181ed9f0911d4878976f65aa801c7d9e7e057e541bde', 'gpa': 4, 'section' : 'A55'},
{ 'idHash' : 'b609c430d2417e91f9e76f34b90dd8787b32c139fed7030713a29ccc440017e5', 'gpa': 2, 'section' : 'A55'},
{ 'idHash' : 'dda91af7f43f215f5c726e9dd83c19bb52949ef7cac6d4a909411bdcad111839', 'gpa': 2, 'section' : 'A55'},
{ 'idHash' : 'd795c8cc316dba0cf077a5d82fd30761bdfa3ac86b0edd00256bd1197dc2350c', 'gpa': 3, 'section' : 'A55'},
{ 'idHash' : 'fef7f609e7355e3a4caec2f263df9d66219d745f2afcd1b0ed4d1d18affa70b7', 'gpa': 4, 'section' : 'A55'},
{ 'idHash' : 'e02e845f74d763945fe1ab6d7600ffb82f6cd0615ac3acdcc96d5aa94a45f698', 'gpa': 3, 'section' : 'A54'},
{ 'idHash' : 'f8cf16b9975462d5c5773a3818b6380783ba0a9f658ab7230b74e285031a0b2f', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : '80e08b4559669e11dce1d023d0f81a8e3c0f5533a5566fb0ae6852bd485f3ee6', 'gpa': 2, 'section' : 'A54'},
{ 'idHash' : '449ec2d89791bdbc4a3b4faa2af518971869b03cd4cb0fac049dbfc817d13a19', 'gpa': 3, 'section' : 'A54'},
{ 'idHash' : '67be5199ed8dcb9365a0bca62f8e6d703ccdfd1599b5779480c5f495b40165c1', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : '0b3aadc3ac1bd1350f9e0e35af12f4deaec720742c76e3eb8079837b6c47b0fc', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : 'fe093e9ed772748854a65a52bfe0f67f20b167a1665103d1d0fc68a55217056f', 'gpa': 2, 'section' : 'A54'},
{ 'idHash' : 'dfdc1368f868508c896e8d38526ecd667f9941917d9962f0ca332d0635aaf202', 'gpa': 4, 'section' : 'A54'},
{ 'idHash' : 'c4ddf572bb8ec4ca87275571f18f1654812880daf2ddd73eb69f8b7a4e943d92', 'gpa': 4, 'section' : 'A54'},
{ 'idHash' : 'df11717387b631a7a3abac5df436b8e47c6d9f63de0b556fb3a5c0b77198fced', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : 'ba69f73c914f17ab8f8914d2424e51087597e2bd771599ca8425ded4ec510545', 'gpa': 2.5, 'section' : 'A54'},
{ 'idHash' : 'cafdffcc1873a3c507cfb04655cbca2ddc358babf9ea27be23bdc923dc5d9f08', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : '8baff98a5326342d66f4b0b41fd18d074783edeab58ccce3fea296633499e05d', 'gpa': 2.5, 'section' : 'A54'},
{ 'idHash' : '0c4d7d9436779758d4bfca3a6e132700d6c6fb86f3b8906c29f813f0dc725127', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : '497444735de06643a5a0414a4ab2efb8361ed21d67b5611213350f0fca441b86', 'gpa': 3, 'section' : 'A54'},
{ 'idHash' : '27561baa6deb658dc248ebdd237061ce5692a841900d648e1a123d79f09cde3d', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : '162b30a86db3519fdfc650f3319b9fc68838f051bf173af6f8f28e1be462e7a3', 'gpa': 2, 'section' : 'A54'},
{ 'idHash' : '5b76ea4509be57d524f812a8e42178a409fa346a7528264f3397ae5479d5baae', 'gpa': 4, 'section' : 'A54'},
{ 'idHash' : '913965aa6054599e7f0f545f513734fa1ac0adb9b07425a0567ea846237a7618', 'gpa': 4, 'section' : 'A54'},
{ 'idHash' : '9c5457ff43e51021d6f561029d8bd9b8d2c0678eb4ea85de45c74d798b777c7c', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : '5b71ce24071ff574527a8cab7449a9f48b4772cda3728e8ebfd3e94d46f79617', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : 'dfccbde702e2a8cf6fdd142d009940536f8d04da8b2ff370162dc8c7403a3726', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : 'df713f481fc8c105777d6b5abc53aea376322cd69dccad231063656669fe15ba', 'gpa': 3, 'section' : 'A54'},
{ 'idHash' : '34c04161c44208454474e3fdc40b7b812499e568c8782d88fc3dafc4e2d2d017', 'gpa': 4, 'section' : 'A54'},
{ 'idHash' : '9c4083c829dac871aaf5f50d8c93f59e7ac8ed596e3a46697330f7f01757a9de', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : '54f250b65a2e9c20a12e0907baff1f776bc87e0b8ea6c5ee3a4765226682c469', 'gpa': 3, 'section' : 'A54'},
{ 'idHash' : '5b1681b12ef19252b79ec480a159f12724a6c9672a23f91f19b5ece5b76943a9', 'gpa': 2, 'section' : 'A54'},
{ 'idHash' : '0b787f7c4007554fb2cb9d5d6c05ac943d99518ac56722997bde8ea7d22f01a6', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : 'f199685f30026b9be0f8cc9a795a2c78fcbf46ada31d6906de73f4d6f5b1a6fb', 'gpa': 3, 'section' : 'A54'},
{ 'idHash' : '35633149595910d75b7e882b5594abd02620b74144a6d8f1125066722a4db33c', 'gpa': 3, 'section' : 'A54'},
{ 'idHash' : '9332db4d7140743e687fdb71655071cc857ca9dcae333c647382719b0f4708cb', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : 'cf0493283a8fbbaa5d639e637d0cbd99aa14eae4be041bfaf302b0785394e80b', 'gpa': 3, 'section' : 'A54'},
{ 'idHash' : '5368596b2c17f303a561c28bc8af197de0153aa7bf70c2cbce3a96ad7929e843', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : '4de2970d0436cc1847d8006604020420c728b2339b4a2f9b814f7e103f03e28a', 'gpa': 3, 'section' : 'A54'},
{ 'idHash' : '2469887d179263ffd6cea52d7aabcdd22e3c0f91f3db772f16b538871bdafdbf', 'gpa': 4, 'section' : 'A54'},
{ 'idHash' : '1ea33965a5b2bb5547e90e1ced6d053146a1ddee389f5e6a9339c96a54fb6083', 'gpa': 3, 'section' : 'A54'},
{ 'idHash' : '1b282b8b3a8818f5b9d51d4a9fe524b63d171d7ef59f3af50d1c4a86fee7caa9', 'gpa': 3.5, 'section' : 'A54'},
{ 'idHash' : '1d44f8b6622b079b7ed89de7126923f407dc726244586482c925b2f8cea95062', 'gpa': 3, 'section' : 'A54'},
{ 'idHash' : '5d80919ca3aa92097948b274582198a476c6b5fb73895ea386e5719201a01286', 'gpa': 3, 'section' : 'A54'}    ];

    function bufferToHex(buffer) {
      const bytes = new Uint8Array(buffer);
      return Array.from(bytes, b => b.toString(16).padStart(2,'0')).join('');
    }

    async function sha256Hex(message) {
      const enc = new TextEncoder();
      const data = enc.encode(message);
      const hashBuffer = await crypto.subtle.digest('SHA-256', data);
      return bufferToHex(hashBuffer);
    }

    const resultsEl = document.getElementById('results');
    const queryEl = document.getElementById('query');

    async function searchStudent(){
      const q = queryEl.value.trim();
      resultsEl.style.display = 'none';
      resultsEl.innerHTML = '';
      if(!q) return;

      let inputHash;
      try {
        inputHash = await sha256Hex(q);
      } catch (err) {
        resultsEl.style.display = 'block';
        resultsEl.innerHTML = `<div class="no-match">Hashing failed: ${err}</div>`;
        return;
      }

      const match = dataset.find(d => d.idHash === inputHash);
      if(!match){
        resultsEl.style.display = 'block';
        resultsEl.innerHTML = `<div class="no-match">No match found for the provided student ID.</div>`;
        return;
      }

      resultsEl.style.display = 'block';
      resultsEl.innerHTML = `
        <div class="small">Match found (student ID stored hashed):</div>
        <table>
          <thead>
            <tr><th>Student ID (SHA-256)</th><th>DLSU GPA</th><th>Section</th></tr>
          </thead>
          <tbody>
            <tr>
              <td>${match.idHash}</td>
              <td>${match.gpa}</td>
              <td>${match.section}</td>
            </tr>
          </tbody>
        </table>
      `;
    }

    function clearResults(){
      queryEl.value = '';
      resultsEl.style.display = 'none';
      resultsEl.innerHTML = '';
      queryEl.focus();
    }

    window.addEventListener('load', () => queryEl.focus());
  </script>
</body>
</html>
